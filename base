#!/bin/bash

if [ "$EUID" -ne 0 ]; then
    echo "Please run this script as root."
    exit 1
fi

rpm --import https://packages.microsoft.com/keys/microsoft.asc
sh -c 'echo -e "[code]\nname=Visual Studio Code\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\nenabled=1\ngpgcheck=1\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc" > /etc/yum.repos.d/vscode.repo'
dnf install -y https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm
dnf copr enable -y peterwu/iosevka
dnf copr enable -y varlad/zellij

dnf remove -y firefox firefox-langpacks gnome-maps totem gnome-boxes gnome-weather gnome-tour cheese rhythmbox baobab gnome-connections \
	gnome-logs mediawriter simple-scan gnome-contacts gnome-abrt gnome-classic-session libreoffice* gnome-characters gnome-font-viewer \
	gnome-calculator gnome-text-editor gnome-system-monitor gnome-software PackageKit PackageKit-gstreamer-plugin PackageKit-gtk3-module \
	PackageKit-glib  

dnf swap -y mesa-va-drivers mesa-va-drivers-freeworld
dnf swap -y mesa-vdpau-drivers mesa-vdpau-drivers-freeworld
dnf swap --best --allowerasing -y ffmpeg-free ffmpeg

dnf install -y adw-gtk3-theme easyeffects gnome-tweaks papirus-icon-theme chromium gnome-shell-extension-appindicator iosevka-fonts \
	gnome-shell-extension-just-perfection rsms-inter-fonts htop yt-dlp opus-tools p7zip p7zip-plugins mpv 

dnf install -y zellij wl-clipboard code stow awscli2 golang
		