#!/usr/bin/env bash

if [ "$EUID" -ne 0 ]; then
    echo "Please run this script as root."
    exit 1
fi

set -eux

dnf install -y tmux sway waybar mako polkit-kde micro wl-clipboard \
	power-profiles-daemon xdg-user-dirs network-manager-applet \
	brightnessctl flatpak adw-gtk3-theme cascadia-code-nf-fonts \
	tuigreet fuzzel qt6ct kvantum papirus-icon-theme-dark wlogout

dnf remove -y foot wmenu

dnf install -y alacritty nautilus flatseal stow p7zip p7zip-plugins \
    easyeffects pavucontrol gnome-disk-utility

dnf install -y @development-tools httpie btop htop ansible azure-cli \
	awscli2 opentofu wireshark strace nmap

dnf install -y 'google-noto-*' --exclude='*vf-fonts*' --skip-broken

sed -i 's/"agreety --cmd \/bin\/sh"/"tuigreet --remember --asterisks --cmd sway"/g' /etc/greetd/config.toml
systemctl enable greetd
systemctl set-default graphical.target
