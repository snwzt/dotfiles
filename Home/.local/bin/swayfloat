#!/usr/bin/env bash

window_id=$(swaymsg -t get_tree | jq '.. | select(.type?) | select(.focused==true).id')
is_floating=$(swaymsg -t get_tree | jq --arg window_id "$window_id" '.. | select(.id? == ($window_id | tonumber)) | .type')

if [ "$is_floating" == '"floating_con"' ]; then
    swaymsg "[con_id=$window_id]" floating disable, border pixel 2
else
    swaymsg "[con_id=$window_id]" floating enable, border normal 2
fi
